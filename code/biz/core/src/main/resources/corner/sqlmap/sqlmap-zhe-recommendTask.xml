<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="ddzRecommendTask">
	<typeAlias alias="TA-ddzRecommendTask"
		type="com.doucome.corner.biz.dal.dataobject.DdzRecommendTaskDO" />

	<resultMap id="RM-ddzRecommendTask" class="TA-ddzRecommendTask">
		<result property="id" column="ID" />
		<result property="categoryIds" column="CATEGORY_IDS" jdbcType="VARCHAR"  />
		<result property="recommendType" column="RECOMMEND_TYPE"  jdbcType="VARCHAR" />
		<result property="lastTaskBatch" column="LAST_TASK_BATCH"  jdbcType="VARCHAR" />
		<result property="gmtCreate" column="GMT_CREATE" jdbcType="TIMESTAMP" />
		<result property="gmtModified" column="GMT_MODIFIED" jdbcType="TIMESTAMP" />
	</resultMap>

	<select id="queryRecommendTask" resultMap="RM-ddzRecommendTask">
		SELECT 
			ID , CATEGORY_IDS , RECOMMEND_TYPE,LAST_TASK_BATCH , GMT_CREATE,GMT_MODIFIED
		FROM 
			DDZ_RECOMMEND_TASK
		WHERE
			RECOMMEND_TYPE = #recommendType#
			
	</select>
	
	<update id="updateRecommendTaskBatch">
		UPDATE 
			DDZ_RECOMMEND_TASK
		SET
			LAST_TASK_BATCH = #lastTaskBatch# ,
			GMT_MODIFIED = NOW()
		WHERE
			RECOMMEND_TYPE = #recommendType#
	</update>
</sqlMap>
